import{A as g,B as s,C as c,D as p,E as C,F as N,G as S,I as M,J as P,K as $,P as B,Q as U,R as q,S as z,c as j,d as F,g as d,h as m,i as h,j as R,k as A,l,m as V,n as v,o as f,q as x,r as u,s as O,t as k,u as L,v as T,w as I,x as o,y as r,z as b}from"./chunk-U6YOC2LA.js";function G(n,t){if(n&1){let e=g();o(0,"a",6),s("click",function(){d(e);let a=c(2);return m(a.closeAllDropdowns())}),p(1),r()}if(n&2){let e=c().$implicit;u("routerLink",e.link),l(),N(" ",e.name," ")}}function W(n,t){if(n&1){let e=g();o(0,"a",13),s("click",function(){d(e);let a=c(4);return m(a.toggleSidebar())}),p(1),r()}if(n&2){let e=t.$implicit;u("routerLink",e.link),l(),N(" ",e.name," ")}}function J(n,t){if(n&1&&(o(0,"div",11),T(1,W,2,2,"a",12,L),r()),n&2){let e=c(2).$implicit;l(),I(e.children)}}function X(n,t){if(n&1){let e=g();o(0,"div",5)(1,"button",7),s("click",function(){d(e);let a=c().$implicit,E=c();return m(E.toggleDropdown(a))}),o(2,"div",8)(3,"p"),p(4),r()(),o(5,"span",9),b(6,"i",10),r()(),x(7,J,3,0,"div",11),r()}if(n&2){let e=c().$implicit;l(),O("bg-blue-100",e.open)("text-blue-700",e.open),l(3),C(e.name),l(),O("rotate-180",e.open),l(2),k(e.open?7:-1)}}function Y(n,t){if(n&1&&x(0,G,2,2,"a",4)(1,X,8,8,"div",5),n&2){let e=t.$implicit;k(e.children?-1:0),l(),k(e.children?1:-1)}}var _=class n{closeSidebar=new h;toggleSidebar(){this.closeSidebar.emit()}links=[{name:"Home",icon:"fa-home",link:"/home"},{name:"Tasks",icon:"fa-tasks",link:"/tasks"},{name:"Users",icon:"fa-users",open:!1,children:[{name:"List User",icon:"fa-user-plus",link:"/list-user"},{name:"Powers",icon:"fa-user-shield",link:"/powers"}]},{name:"Report",icon:"fa-chart-bar",link:"/report"},{name:"Objections",icon:"fa-thumbs-down",link:"/objections"},{name:"Question Rating Reports",icon:"fa-poll",link:"/question-rating-reports"},{name:"Ratings",icon:"fa-star",link:"/ratings"},{name:"Sites",icon:"fa-map-marker-alt",link:"/sites"},{name:"Groups",icon:"fa-layer-group",open:!1,children:[{name:"Main Group",icon:"fa-object-group",link:"/main-group"},{name:"SubGroup",icon:"fa-sitemap",link:"/subgroup"}]},{name:"Quetions",icon:"fa-question-circle",open:!1,children:[{name:"Add Question",icon:"fa-plus-circle",link:"/add-question"},{name:"Question Score",icon:"fa-clipboard-check",link:"/question-score"},{name:"Import Questions",icon:"fa-file-import",link:"/import-questions"}]},{name:"Settings",icon:"fa-cog",link:"/settings"}];toggleDropdown(t){this.links.forEach(e=>e.children&&(e.open=e===t?!e.open:!1))}closeAllDropdowns(){this.links.forEach(t=>t.children&&(t.open=!1)),this.toggleSidebar()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-sidebar"]],outputs:{closeSidebar:"closeSidebar"},decls:6,vars:0,consts:[[1,"space-y-1"],[1,"md:hidden","text-[14px]","sm:text-[18px]","font-medium","flex","items-center","justify-end"],[1,"px-4","py-2","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition","duration-200",3,"click"],[1,"fas","fa-close"],["routerLinkActive","bg-blue-100 text-blue-700",1,"flex","items-center","text-[14px]","sm:text-[18px]","gap-3","px-4","py-2","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition","duration-200","font-medium",3,"routerLink"],[1,"text-[14px]","sm:text-[18px]"],["routerLinkActive","bg-blue-100 text-blue-700",1,"flex","items-center","text-[14px]","sm:text-[18px]","gap-3","px-4","py-2","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition","duration-200","font-medium",3,"click","routerLink"],[1,"w-full","flex","items-center","justify-between","px-4","py-2","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition","duration-200","font-medium","text-left",3,"click"],[1,"flex","items-center","gap-3"],[1,"transition-transform"],[1,"fas","fa-chevron-down"],[1,"pl-4","space-y-1","mt-1"],["routerLinkActive","bg-blue-100 text-blue-700",1,"block","px-3","py-1.5","rounded-md","hover:bg-blue-50","hover:text-blue-600","transition",3,"routerLink"],["routerLinkActive","bg-blue-100 text-blue-700",1,"block","px-3","py-1.5","rounded-md","hover:bg-blue-50","hover:text-blue-600","transition",3,"click","routerLink"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),s("click",function(){return i.toggleSidebar()}),b(3,"i",3),r()(),T(4,Y,2,2,null,null,L),r()),e&2&&(l(4),I(i.links))},dependencies:[q,z],encapsulation:2})};var w=class n{tokenKey="authToken";tokenSubject=new j(localStorage.getItem(this.tokenKey));token$=this.tokenSubject.asObservable();constructor(){}setToken(t){localStorage.setItem(this.tokenKey,t),this.tokenSubject.next(t)}getToken(){return this.tokenSubject.value}clearToken(){localStorage.removeItem(this.tokenKey),this.tokenSubject.next(null),localStorage.clear()}isLoggedIn(){return!!this.tokenSubject.value}static \u0275fac=function(e){return new(e||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var ee=(n,t)=>({"fa-times rotate-90 scale-110 text-red-600":n,"fa-bars rotate-0 scale-100 text-primaryTitle":t}),Q=(n,t)=>({"left-0":n,"right-0":t});function te(n,t){if(n&1){let e=g();o(0,"div",13)(1,"button",14),s("click",function(){d(e);let a=c();return m(a.changeLang("en"))}),p(2,"English"),r(),o(3,"button",14),s("click",function(){d(e);let a=c();return m(a.changeLang("ar"))}),p(4,"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"),r()()}if(n&2){let e=c();u("ngClass",S(1,Q,e.currentLang==="ar",e.currentLang!=="ar"))}}function ne(n,t){if(n&1){let e=g();o(0,"div",15)(1,"a",16),p(2," \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A "),r(),o(3,"button",17),s("click",function(){d(e);let a=c();return m(a.logout())}),p(4," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C "),r()()}if(n&2){let e=c();u("ngClass",S(1,Q,e.currentLang==="ar",e.currentLang!=="ar"))}}var y=class n{constructor(t,e,i,a){this.renderer=t;this.eRef=e;this.localStorage=i;this.router=a}langOpen=!1;userOpen=!1;notifOpen=!1;toggle=new h;isSidebarOpen=!1;currentLang="en";openSidebar(){this.isSidebarOpen=!this.isSidebarOpen,this.toggle.emit()}closeSidebar(){this.isSidebarOpen=!1}setLangAttribute(t){this.renderer.setAttribute(document.body,"lang",t)}toggleLanguageDropdown(){this.langOpen=!this.langOpen,this.userOpen=!1}toggleUserDropdown(){this.userOpen=!this.userOpen,this.langOpen=!1}toggleNotificationDropdown(t){t.stopPropagation(),this.notifOpen=!this.notifOpen,this.userOpen=!1,this.langOpen=!1}onClickOutside(t){this.eRef.nativeElement.contains(t.target)||(this.langOpen=!1,this.userOpen=!1,this.notifOpen=!1)}logout(){this.localStorage.clearToken(),this.router.navigate(["/login"])}changeLang(t){this.currentLang=t,this.langOpen=!1;let e=t==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",e),this.setLangAttribute(t)}static \u0275fac=function(e){return new(e||n)(v(V),v(R),v(w),v(U))};static \u0275cmp=f({type:n,selectors:[["app-navbar"]],hostBindings:function(e,i){e&1&&s("click",function(E){return i.onClickOutside(E)},!1,A)},outputs:{toggle:"toggle"},decls:18,vars:8,consts:[[1,"w-full","flex","items-center","justify-between","py-[10px]","space-x-4","rtl:space-x-reverse"],[1,"text-[18px]","md:text-[22px]","font-bold","text-gray-800","hidden","md:block"],[1,"fas","text-[22px]","md:text-[22px]","font-bold","text-primaryTitle","md:hidden","cursor-pointer","transition-transform","duration-300","ease-in-out",3,"click","ngClass"],[1,"flex","flex-row-reverse","md:flex-row","items-center","rtl:space-x-reverse","space-x-2"],["tabindex","0",1,"relative",3,"click"],[1,"flex","items-center","gap-2","text-gray-600","bg-white","border","border-gray-200","rounded","shadow","px-1","hover:text-blue-600"],[1,"text-sm"],["class","absolute mt-2 w-32 bg-white border border-gray-200 rounded shadow z-50",3,"ngClass",4,"ngIf"],[1,"flex","items-center","gap-2","text-gray-600","hover:text-blue-600"],["src","assets/images/navbar/download.png","alt","User",1,"w-8","h-8","rounded-full","border","border-gray-300","object-cover"],["class","absolute mt-2 w-40 bg-white border border-gray-200 rounded shadow z-50",3,"ngClass",4,"ngIf"],[1,"absolute","top-0","z-[99999999]","h-screen","p-4","pt-[20px]","bg-black","text-white","shadow-md","transition-all","duration-300","ease-in-out","w-[75%]","sm:w-[40%]",3,"ngClass"],[3,"closeSidebar"],[1,"absolute","mt-2","w-32","bg-white","border","border-gray-200","rounded","shadow","z-50",3,"ngClass"],[1,"block","w-full","px-4","py-2","hover:bg-gray-100","text-blue-500","text-right",3,"click"],[1,"absolute","mt-2","w-40","bg-white","border","border-gray-200","rounded","shadow","z-50",3,"ngClass"],["routerLink","/settings",1,"block","px-4","py-2","hover:bg-gray-100","text-blue-500","text-right"],[1,"block","w-full","px-4","py-2","text-right","hover:bg-gray-100","text-blue-500",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div")(2,"h1",1),p(3," Welcome to Al Lulu Restaurant "),r(),o(4,"i",2),s("click",function(){return i.openSidebar()}),r()(),o(5,"div",3)(6,"div",4),s("click",function(){return i.toggleLanguageDropdown()}),o(7,"button",5),p(8," \u{1F310} "),o(9,"span",6),p(10),r()(),x(11,te,5,4,"div",7),r(),o(12,"div",4),s("click",function(){return i.toggleUserDropdown()}),o(13,"button",8),b(14,"img",9),r(),x(15,ne,5,4,"div",10),r()()(),o(16,"div",11)(17,"app-sidebar",12),s("closeSidebar",function(){return i.closeSidebar()}),r()()),e&2&&(l(4),u("ngClass",S(5,ee,i.isSidebarOpen,!i.isSidebarOpen)),l(6),C(i.currentLang.toUpperCase()),l(),u("ngIf",i.langOpen),l(4),u("ngIf",i.userOpen),l(),u("ngClass",i.currentLang==="ar"?i.isSidebarOpen?"right-0 translate-x-0":"right-0 translate-x-full":i.isSidebarOpen?"left-0 translate-x-0":"left-0 -translate-x-full"))},dependencies:[$,M,P,_],encapsulation:2})};var K=class n{sidebarOpen=!1;lang="en";constructor(){}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-mainlayout"]],decls:8,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"px-6","bg-white/70","backdrop-blur-md","shadow-md","border-b","text-orange-800","font-semibold"],[3,"toggle"],[1,"flex","flex-1","overflow-hidden"],[1,"w-[20%]","pt-[20px]","bg-black","text-white","p-4","shadow-md","border-r","hidden","md:block"],[1,"flex-1","p-6","overflow-y-auto","pt-[40px]"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"header",1)(2,"app-navbar",2),s("toggle",function(){return i.toggleSidebar()}),r()(),o(3,"div",3)(4,"aside",4),b(5,"app-sidebar"),r(),o(6,"main",5),b(7,"router-outlet"),r()()())},dependencies:[B,_,y],encapsulation:2})};export{K as MainlayoutComponent};
