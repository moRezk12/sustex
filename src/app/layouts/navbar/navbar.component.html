<div class="w-full flex px-[20px] items-center justify-between py-[10px] space-x-4 rtl:space-x-reverse">

  <!-- Title + Sidebar Button -->
  <!-- Logo + Sidebar Button -->
  <div class="flex items-center gap-5">

    <!-- Logo -->

    <div class=" md:hidden block " >
    <!-- Sidebar Toggle (Mobile Only) -->
    <i (click)="openSidebar()"
      class="fas cursor-pointer text-[22px] text-primaryTitle transition-all duration-300 " [ngClass]="{
      'fa-times rotate-90 text-red-500': isSidebarOpen,
      'fa-bars': !isSidebarOpen
    }"></i>

    </div>

    <img src="assets/images/newlogo.png" class="h-10 w-10 object-contain" alt="logo">

  </div>


  <!-- Right Controls -->
  <div class="flex items-center gap-4">

    <!-- Dark Mode -->
    <i (click)="toggleDarkMode()" [ngClass]="{
      'fas fa-sun text-yellow-500 text-xl cursor-pointer': isDarkMode,
      'fas fa-moon text-gray-600 text-xl cursor-pointer': !isDarkMode
    }"></i>

    <!-- Language -->
    <div class="relative" (click)="toggleLanguageDropdown()" tabindex="0">
      <i class="fas fa-globe text-gray-600 hover:text-blue-600 cursor-pointer text-xl"></i>

      <div *ngIf="langOpen" class="absolute right-0 mt-2 w-28 bg-white border border-gray-200 rounded shadow z-50">
        <button class="block w-full px-3 py-2 hover:bg-gray-100 text-sm" (click)="changeLang('en')">English</button>
        <button class="block w-full px-3 py-2 hover:bg-gray-100 text-sm" (click)="changeLang('ar')">العربية</button>
      </div>
    </div>

    <!-- Help Icon -->
    <i class="fas fa-question-circle text-gray-600 hover:text-blue-600 cursor-pointer text-xl"></i>


    <!-- User Box -->
    <div class="relative md:border md:border-gray-500 rounded-[6px] px-[10px] py-[3px] flex items-center gap-2 cursor-pointer"
    (click)="toggleUserDropdown()" tabindex="0">

      <img src="assets/images/navbar/download.png" class="w-9 h-9 rounded-full border border-gray-300 object-cover"
        alt="User">

      <!-- Name (hidden on small screens) -->
      <span class="text-gray-700 font-medium hidden md:block">{{ userName }}</span>

      <!-- Dropdown -->
      <div *ngIf="userOpen"
        class="absolute right-0 top-[36px] mt-3 w-[300px] bg-white border border-gray-200 rounded shadow z-50 p-3">
        <p class="text-gray-800 font-semibold">{{ userName }}</p>
        <p class="text-gray-500 text-sm mb-3">{{ userEmail }}</p>
        <button (click)="logout()" class="w-full text-left px-2 py-2 hover:bg-gray-100 text-red-600">
          تسجيل الخروج
        </button>
      </div>
    </div>

  </div>
</div>

<!-- Sidebar Drawer -->
<div
  class="absolute top-0 z-[99999999] h-screen p-4 pt-[20px] bg-black text-white  shadow-md transition-all duration-300 ease-in-out w-[75%] sm:w-[40%]"
  [ngClass]="currentLang === 'ar'
    ? (isSidebarOpen ? 'right-0 translate-x-0' : 'right-0 translate-x-full')
    : (isSidebarOpen ? 'left-0 translate-x-0' : 'left-0 -translate-x-full')">

  <app-sidebar (closeSidebar)="closeSidebar()"></app-sidebar>
</div>
